\documentclass[11pt]{article}

\usepackage{deauthor,times,graphicx}
\graphicspath{{submissions/grade-sql-chandra/figs}}
%\usepackage[hidelinks]{hyperref}
\usepackage{hyperref} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\smalltt}[1]{{{\texttt{#1}}}}
\newcommand{\paras}[1]{\noindent\textit{#1}:}
\newcommand{\tabsql}{\hspace*{3mm}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\blfootnote[1]{%
  \begin{NoHyper}%
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \end{NoHyper}%
}

\begin{document}
\title{Automated Grading of SQL Queries}
\author{Bikash Chandra*\blfootnote{Currently at Meta Platforms Inc.} \hspace{1cm} S. Sudarshan \\ IIT Bombay \\ \texttt{\{bikash,sudarsha\}@cse.iitb.ac.in}}
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}
In a traditional classroom setting, instructors and teaching assistants either grade SQL queries either manually or using fixed datasets. Manual grading is tedious, error-prone and does not scale well for courses with a large number of students or for online courses. Using fixed datasets may miss even common errors and mark incorrect student queries as correct. In this article, we discuss our system XData that, given a set of correct queries, can automatically evaluate the correctness of SQL queries using datasets designed to catch errors in the given correct queries. If a student query is found to be incorrect, XData can even assign grades to the query based on how close they are to a correct query. In our experience, these techniques can be used to grade queries for settings with a large number of students with little human effort and involvement. 
\end{abstract}

\input{submissions/grade-sql-chandra/intro}
\input{submissions/grade-sql-chandra/datagen}

\input{submissions/grade-sql-chandra/edit}
\input{submissions/grade-sql-chandra/relwork}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusion and Open Challenges}
\label{sec:conclusion}
The XData system is very useful for grading assignments on SQL queries and for providing feedback to students about mistakes they made. For large classes or online courses, such automated grading systems are essential and the automated individualized feedback would be very useful to new learners. Our experience in using the grading system has been very positive from both the teaching assistants as well as the students. The XData grading system as well as the  source code
are available for download from {\url{http://www.cse.iitb.ac.in/infolab/xdata}}.


One of the key challenges in the XData grading scheme is the number of ways a correct SQL query can be written. We have found that students sometimes write queries using a very different approach than we had anticipated. Catching errors with such approaches as well as awarding partial marks in these cases may be challenging. One way to address these would be to automatically group student query submissions and generate datasets for one student query in each group. We could then use the datasets to identify correct queries from the group and automatically add these as additional correct queries for grading. 
Another key challenge is in dealing with student queries that have additional query constructs that do not affect the query results. One of the cases that we found in our course was when a student had used the query {\smalltt{Q UNION Q'}} where Q' was always empty. The query had one error in Q but marks were also deducted based on edit for Q'.  


\paragraph*{Acknowledgments:} We thank all students and researchers who worked on the XData project as well as those who used the system and provided their valuable feedback. This work was partially supported by research funding and a PhD fellowship from Tata Consultancy Services. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\bibliographystyle{IEEEtran}
%\bibliography{references}

\input{submissions/grade-sql-chandra/paper.bbl}

\end{document}
