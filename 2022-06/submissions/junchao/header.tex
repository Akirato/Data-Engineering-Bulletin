%\usepackage{amsthm,amsmath,amssymb,amsfonts}
%\usepackage[inline]{enumitem}
\usepackage{caption,subcaption}
\usepackage{balance}
%\usepackage[binary-units]{siunitx}
\usepackage{graphicx}
\usepackage{hyperref}


%% Comments
\newcommand{\mo}[1]{{\color{red} #1}}
\newcommand{\sajjad}[1]{{\color{green} #1}}


%% Replicas.
\newcommand{\Service}{\mathcal{S}}
\newcommand{\Replicas}{\mathcal{R}}
\newcommand{\Miners}{\mathcal{M}}
\newcommand{\Clients}{\mathcal{C}}
\newcommand{\Faulty}{\mathcal{F}}
\newcommand{\NonFaulty}{\mathcal{NF}}
\newcommand{\n}[1]{\mathbf{n}_{#1}}
\newcommand{\f}[1]{\mathbf{f}_{#1}}
\newcommand{\CC}{\mathbf{c}}
\newcommand{\ID}[1]{\mathop{\textsf{id}}(#1)}
\newcommand{\Replica}[1][r]{\textsc{#1}}
\newcommand{\Primary}[1][p]{\textsc{#1}}
\newcommand{\Miner}[1][m]{\textsc{#1}}
\newcommand{\Client}[1][c]{\MakeLowercase{#1}}

%% Special names.
\newcommand{\MName}[1]{\textsc{#1}}
\newcommand{\Name}[1]{\texttt{#1}}
\newcommand{\BFT}{\textsc{bft}}
\newcommand{\PoW}{\textsc{PoW}}
\newcommand{\PoC}{\textsc{PoC}}
\newcommand{\PoCf}{\textsc{Power-of-Collaboration}}
\newcommand{\DualChain}{\textsc{HybridChain}}
\newcommand{\ZZ}{\textsc{Zyzzyva}}
\newcommand{\PoE}{\textsc{PoE}}
\newcommand{\PBFT}{\textsc{Pbft}}
\newcommand{\pbft}{\textsc{Pbft}}
\newcommand{\hotstuff}{\textsc{HotStuff}}
\newcommand{\SBFT}{\textsc{SBFT}}
\newcommand{\ResDB}{\textsc{ResilientDB}}
\newcommand{\MAC}{\textsc{Mac}}
\newcommand{\DS}{\textsc{DS}}


\newcommand{\View}[1][v]{#1}


%PoC names
\newcommand{\Bitcoin}{\MName{Bitcoin}}
\newcommand{\Ethereum}{\Name{Ethereum}}
\newcommand{\blockchains}{\MName{blockchains}}
\newcommand{\block}{\mathfrak{B}}

\newcommand{\NET}[1][NET]{\textsc{#1}}
\newcommand{\Slice}[1]{\mathcal{S}_{#1}}
\newcommand{\Sequence}{\textsc{Seq}}
\newcommand{\TXNBlock}{\textsc{TB}}

\newcommand{\Digest}[1]{\MName{Digest}(#1)}
\newcommand{\BBlock}{\mathbb{B}}
\newcommand{\Checksum}[2]{\mathop{\textnormal{\texttt{checksum}}_{#2}}(#1)}


%% PoC protocol.
\newcommand{\Certificate}{\mathfrak{C}}
\newcommand{\T}{\tau}
\newcommand{\Transaction}[1][t]{\MakeUppercase{#1}}
\newcommand{\Message}[2]{\textsc{#1}(#2)}
\newcommand{\SignMessage}[2]{\langle#1\rangle_{#2}}
\newcommand{\SignShare}[2]{s\langle#1\rangle_{#2}}
\newcommand{\Hash}[1]{\texttt{hash}(#1)}
\newcommand{\Supported}[4]{\texttt{Support}_{#1}(#2, #3, #4)}
\newcommand{\ViewCommitted}[4]{\texttt{VCommit}_{#1}(#2, #3, #4)}
\newcommand{\Executed}[4]{\texttt{Execute}_{#1}(#2, #3, #4)}
\newcommand{\SliceShifting}{\MName{SliceShifting}}
\newcommand{\ShiftRound}{\MName{SR}}


%% Misc.
\newcommand{\True}{\texttt{true}}
\newcommand{\False}{\texttt{false}}
\newcommand{\abs}[1]{\lvert #1 \rvert}
\newcommand{\union}{\cup}
\newcommand{\intersect}{\cap}
\newcommand{\difference}{\setminus}
\newcommand{\BigO}[1]{\mathcal{O}(#1)}
\newcommand{\BigOm}[1]{\Omega(#1)}

%\newtheorem{theorem}{Theorem}
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{proposition}[theorem]{Proposition}
%\newtheorem{example}[theorem]{Example}
%\newtheorem{corollary}[theorem]{Corollary}

%% myprotocol
\usepackage{algorithmic}
\newcommand{\GETS}{:=}
\newenvironment{myprotocol}{
    \hrule
    \smallskip
    \footnotesize
    \algsetup{linenosize=\footnotesize}
    \begin{algorithmic}[1]
        \newcommand{\SPACE}{\item[]}
        \newcommand{\TITLE}[2]{\item[] \textbf{\underline{##1}} (##2) \textbf{:}\\[2pt]}
        \makeatletter
            \newcommand{\EVENT}[1]{\STATE \textbf{event} ##1 \textbf{do}}
            \newcommand{\ENDEVENT}{ \STATE \textbf{end event}}
        \makeatother
}{
    \end{algorithmic}
    \smallskip
    \hrule
}

%% common
\usepackage{amsfonts,amssymb, amsmath, colortbl, makecell}
%\usepackage[table]{xcolor}


%% PGF/TikZ setup for figures and plots.
\usepackage{tikz,pgfplots,pgfplotstable}
\usetikzlibrary{arrows.meta,calc,decorations.pathreplacing,patterns,shapes}
\tikzset{
    dot/.append style={circle,scale=0.35,draw=black,fill=black},
    sdot/.append style={scale=0.45,draw=black,fill=black},
    label/.append style={align=center,font=\strut\footnotesize},
    >=Stealth,
    every edge/.append style={semithick},
    thread/.append style={align=center,draw,thick,rectangle,text width=1cm,text height=2ex,text depth=.25ex,minimum height=0.75cm,font=\strut},
}

% Seven colors safe for use color blindness.
% Colors taken from doi:10.1038/nmeth.1618. 
\definecolor{colA}{RGB}{230,159,0}
\definecolor{colB}{RGB}{86,180,233}
\definecolor{colC}{RGB}{0,158,115}
\definecolor{colD}{RGB}{240,228,66}
\definecolor{colE}{RGB}{0,114,178}
\definecolor{colF}{RGB}{213,94,0}
\definecolor{colG}{RGB}{204,121,167}
\definecolor{colH}{RGB}{238,130,238}
\definecolor{colI}{RGB}{64,224,208}
\definecolor{colGrey}{RGB}{211,211,211}
\definecolor{colIvory}{RGB}{255,235,215}
\definecolor{colDeepPink}{RGB}{255,20,147}
\definecolor{colLightRed}{RGB}{255,235,0}

%% Cycle list for evaluation graphs.
\pgfplotscreateplotcyclelist{mycyclelist}{
    very thick,solid,black,every mark/.append style={solid},mark=*\\         %PoE
    very thick,solid,colG,every mark/.append style={solid},mark=*\\          %PBFT
    very thick,solid,colB,every mark/.append style={solid},mark=*\\          %ZZ
    very thick,solid,colE,every mark/.append style={solid},mark=*\\          %SBFT
    very thick,solid,colD,every mark/.append style={solid},mark=*\\          %HS
}


%% Make-up for evaluation graphs.
\pgfplotsset{
    compat=1.16,
    width=195pt,
    height=156pt,
    every axis title shift=0pt,
    max space between ticks=25,
    every axis/.append style={
        cycle list name=mycyclelist,
        ymin=0,
        enlargelimits=0.05,
        scale ticks above exponent=1,
        scaled x ticks=false,
        xtick=data,
        mark size=1pt,
        font=\Large,
        y tick label style={
            /pgf/number format/precision=1,
            /pgf/number format/fixed,
            /pgf/number format/fixed zerofill
        },
        ylabel shift={-5pt}
    },
    every axis legend/.append style={
        cells={anchor=west}
    }
}

%% Plot-style for tikzpictures.
\tikzset{
   plot/.append style={baseline,scale=0.65}
}

